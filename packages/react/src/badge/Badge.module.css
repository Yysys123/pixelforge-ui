/* Badge Brutalist Styles */
.badge {
  --badge-border-width: var(--pf-spacing-0-5, 0.15em);
  --badge-bg: var(--pf-color-surface, #ffffff);
  --badge-text: var(--pf-color-text, #050505);
  --badge-shadow: var(--pf-color-shadow, #000000);
  --badge-primary: var(--pf-color-primary-500, #ff3e00);
  --badge-secondary: var(--pf-color-secondary-500, #4d61ff);
  --badge-accent: var(--pf-color-accent-500, #00e0b0);
  --badge-success: var(--pf-color-success-500, #22c55e);
  --badge-warning: var(--pf-color-warning-500, #f59e0b);
  --badge-danger: var(--pf-color-danger-500, #ef4444);
  --badge-info: var(--pf-color-info-500, #3b82f6);

  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: var(--pf-font-family-base, ui-sans-serif, system-ui, sans-serif);
  font-weight: 700;
  white-space: nowrap;
  vertical-align: baseline;
  background: var(--badge-bg);
  color: var(--badge-text);
  border: var(--badge-border-width) solid var(--badge-text);
  box-shadow: 0.2em 0.2em 0 var(--badge-shadow);
  transition: all 0.2s cubic-bezier(0.23, 1, 0.32, 1);
  overflow: hidden;
  transform-origin: center;
  user-select: none;
}

/* Pattern overlay */
.pattern-overlay {
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(45deg, rgba(0, 0, 0, 0.05) 25%, transparent 25%),
    linear-gradient(-45deg, rgba(0, 0, 0, 0.05) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, rgba(0, 0, 0, 0.05) 75%),
    linear-gradient(-45deg, transparent 75%, rgba(0, 0, 0, 0.05) 75%);
  background-size: 0.4em 0.4em;
  background-position: 0 0, 0 0.2em, 0.2em -0.2em, -0.2em 0;
  opacity: 0.3;
  pointer-events: none;
}

/* Accent shapes */
.accent-shapes {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.accent-dot {
  position: absolute;
  top: 0.15em;
  right: 0.15em;
  width: 0.25em;
  height: 0.25em;
  background: var(--badge-accent);
  border-radius: 50%;
  opacity: 0.6;
}

.accent-line {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 0.1em;
  background: var(--badge-accent);
  opacity: 0.4;
}

/* Content */
.content {
  position: relative;
  display: flex;
  align-items: center;
  gap: 0.2em;
  z-index: 1;
  line-height: 1;
}

.icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Corner cut effect */
.corner-cut {
  position: absolute;
  top: 0;
  left: 0;
  width: 0.4em;
  height: 0.4em;
  background: var(--badge-accent);
  clip-path: polygon(0 0, 100% 0, 0 100%);
  opacity: 0.7;
}

/* Size variants */
.size-sm {
  min-height: 1.2em;
  padding: 0.1em 0.4em;
  font-size: var(--pf-text-xs, 0.75rem);
  border-radius: var(--pf-radius-sm, 0.25rem);
}

.size-md {
  min-height: 1.5em;
  padding: 0.15em 0.5em;
  font-size: var(--pf-text-sm, 0.875rem);
  border-radius: var(--pf-radius-md, 0.375rem);
}

.size-lg {
  min-height: 2em;
  padding: 0.2em 0.75em;
  font-size: var(--pf-text-base, 1rem);
  border-radius: var(--pf-radius-md, 0.375rem);
}

/* Shape variants */
.shape-rounded {
  /* Uses size-specific border-radius */
}

.shape-pill {
  border-radius: 9999px;
}

.shape-square {
  border-radius: 0;
}

/* Dot variant */
.dot {
  width: 0.6em;
  height: 0.6em;
  min-height: unset;
  padding: 0;
  border-radius: 50%;
}

.dot.size-sm {
  width: 0.5em;
  height: 0.5em;
}

.dot.size-md {
  width: 0.6em;
  height: 0.6em;
}

.dot.size-lg {
  width: 0.8em;
  height: 0.8em;
}

.dot .content {
  display: none;
}

.dot .pattern-overlay,
.dot .accent-shapes,
.dot .corner-cut {
  display: none;
}

/* Color variants */
.variant-default {
  background: var(--badge-bg);
  color: var(--badge-text);
  border-color: var(--badge-text);
}

.variant-primary {
  background: var(--badge-primary);
  color: var(--badge-bg);
  border-color: var(--badge-text);
  --badge-accent: rgba(255, 255, 255, 0.3);
}

.variant-secondary {
  background: var(--badge-secondary);
  color: var(--badge-bg);
  border-color: var(--badge-text);
  --badge-accent: rgba(255, 255, 255, 0.3);
}

.variant-success {
  background: var(--badge-success);
  color: var(--badge-bg);
  border-color: var(--badge-text);
  --badge-accent: rgba(255, 255, 255, 0.3);
}

.variant-warning {
  background: var(--badge-warning);
  color: var(--badge-text);
  border-color: var(--badge-text);
  --badge-accent: rgba(0, 0, 0, 0.2);
}

.variant-danger {
  background: var(--badge-danger);
  color: var(--badge-bg);
  border-color: var(--badge-text);
  --badge-accent: rgba(255, 255, 255, 0.3);
}

.variant-info {
  background: var(--badge-info);
  color: var(--badge-bg);
  border-color: var(--badge-text);
  --badge-accent: rgba(255, 255, 255, 0.3);
}

/* Interactive states */
.interactive {
  cursor: pointer;
  transition: all 0.2s ease;
}

.interactive:hover {
  transform: translate(-0.1em, -0.1em) scale(1.05);
  box-shadow: 0.3em 0.3em 0 var(--badge-shadow);
}

.interactive:active {
  transform: translate(0.05em, 0.05em) scale(0.98);
  box-shadow: 0.1em 0.1em 0 var(--badge-shadow);
}

.interactive:focus-visible {
  outline: 0.15em solid var(--badge-primary);
  outline-offset: 0.15em;
}

/* Overlay positioning */
.overlay {
  position: absolute;
  z-index: 10;
}

.overlay.position-top-right {
  top: -0.3em;
  right: -0.3em;
  transform: rotate(5deg);
}

.overlay.position-top-left {
  top: -0.3em;
  left: -0.3em;
  transform: rotate(-5deg);
}

.overlay.position-bottom-right {
  bottom: -0.3em;
  right: -0.3em;
  transform: rotate(-5deg);
}

.overlay.position-bottom-left {
  bottom: -0.3em;
  left: -0.3em;
  transform: rotate(5deg);
}

/* Inline variant */
.inline {
  margin: 0 0.2em;
  vertical-align: middle;
}

/* Empty state */
.empty {
  display: none;
}

/* Brutalist animation effects */
@keyframes badgeShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-0.1em); }
  75% { transform: translateX(0.1em); }
}

.interactive:hover {
  animation: badgeShake 0.3s ease-in-out;
}

/* Dark theme support */
[data-theme="dark"] .badge {
  --badge-bg: var(--pf-color-surface-dark, #1a1a1a);
  --badge-text: var(--pf-color-text-dark, #f1f1f1);
  --badge-shadow: var(--pf-color-shadow-dark, #000000);
}

[data-theme="dark"] .variant-warning {
  color: var(--badge-text);
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .badge {
    transition: none;
    animation: none;
  }
  
  .interactive:hover {
    animation: none;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .badge {
    border-width: 0.2em;
  }
  
  .pattern-overlay {
    opacity: 0.1;
  }
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .size-lg {
    font-size: var(--pf-text-sm, 0.875rem);
    padding: 0.15em 0.6em;
    min-height: 1.8em;
  }
  
  .size-md {
    font-size: var(--pf-text-xs, 0.75rem);
    padding: 0.1em 0.4em;
    min-height: 1.3em;
  }
}